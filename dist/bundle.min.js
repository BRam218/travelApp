var Client;(()=>{"use strict";var e={300:(e,t)=>{var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{o.r(n),o.d(n,{callServer:()=>c,handleSubmit:()=>a,updateUI:()=>r});var e=o(300),t=o.n(e);async function a(e){e.preventDefault();let o=document.getElementById("input-city").value,n=document.getElementById("input-start-date").value;0!=o?(await async function(e,o){await t()(e,{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}("http://localhost:8081/newTripData",{city:o,date:n}),await c("http://localhost:8081/restcountries"),await c("http://localhost:8081/weatherbit"),await c("http://localhost:8081/pixabay"),await c("http://localhost:8081/getData"),r()):alert("Not valid data entered. Please enter valid data")}async function r(){const e=await t()("http://localhost:8080/getData"),o=await e.json();console.log(o),document.querySelector(".city-image").src=o.image1,document.querySelector(".icon").src=o.flag,document.querySelector(".city-name").innerHTML="Your destination : "+o.name+" ("+o.countryName+")",document.querySelector(".icon").src=`https://www.weatherbit.io/static/img/icons/${o.icon}.png`,document.querySelector(".description").innerHTML=o.description,document.querySelector(".temperature").innerHTML=o.temp+"Â°C",document.querySelector(".departure").innerHTML="Departure date: "+o.date}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".modal"),t=document.querySelector(".overlay"),o=document.querySelector(".close-modal"),n=document.querySelector(".show-modal"),a=function(){e.classList.add("hidden"),t.classList.add("hidden")};n.addEventListener("click",(function(){e.classList.remove("hidden"),t.classList.remove("hidden")})),o.addEventListener("click",a),t.addEventListener("click",a),document.addEventListener("keydown",(function(t){console.log(t.key),"Escape"!==t.key||e.classList.contains("hidden")||a()}))}));const c=async e=>{const o=await t()(e,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});try{return await o.json()}catch{console.log(`Error: ${o.statusText}`)}}})(),Client=n})();